# 管理代码环境

## 本文环境
本文涉及一些 `shell` 命令，测试时均基于以下环境。
1. 操作系统 ： ubnutu 16.04 
2. 命令行 ： bash


## 为什么要管理环境？
首先，先来想象一下以下场景：
1. 安装了有缺陷的解释器，一运行就报错。
2. 安装了错误版本，运行代码时发现版本不匹配。
3. 编写项目时，项目A需要语言版本a，项目B需要语言版本b。
4. 开发结束后，需要交付依赖文档时，记不清开发过程中安装过哪些依赖。
5. 两个项目依赖有冲突，每次开发都需要调整某些依赖。

ps： 更多场景欢迎补充。

这些场景在探索和学习代码时应该都遇到过，如果没有代码环境管理上知识，一般会这么做：  
1. 如果报错信息看懂了，那么直接解决问题。
2. 如果不清楚报错信息所指，打开 `baidu` 或者 `google`，粘贴报错信息进行搜索。
3. 找到一些 `CSDN` 等博客的文章，或者 `zhihu`，`Stack Overflow` 等网站上的问题。
4. 根据文章或问题进行试验，如果解决了就结束。如果没解决换下一篇。（其实这里经常会埋下隐患：改了一些东西，却没有进行恢复。）
5. 如果没有试验出解决方案，则向身边大神寻求帮助或者求助于问题平台或者论坛。（这个步骤会拉长解决问题的周期。）

这个解决步骤很繁琐，特别是当你持续遇到类似问题时。如果是学习，会导致兴致下降或者放弃。如果是工作，则会使效率下降，拖慢进度。而且在第 4 步时候，个人回栈能力（即思路马上回到上一个已验证的节点）比较弱时，思路会不清晰。

现在我们再看一下场景，整理一下环境管理器需要满足什么条件（以下编号与场景编号对应）：
1. 经过测试的安装包。
2. 能够指定下载版本。
3. 每个项目都可以指定版本。
4. 能够列出当前项目的依赖名。
5. 将一些依赖做成局部而不是全局依赖。

## 准备工作  
  
现在有许多环境管理的软件，本文介绍一个开源软件： `conda` 。官网介绍看[这里](https://conda.io/docs/)。  
`conda` 可以做环境管理，也可以做包管理工具，上方的条件也都能够满足。

### 下载
首先，我们下载 `Anaconda`。下载链接在[这里](https://www.anaconda.com/download/#linux)。  
根据操作系统、对应的处理器位数和 `python` 版本选择安装包，本文选择的是 `linux`、`64bit` 和 `python3.6`。下方安装部分也已此安装包为例。

### 安装
1. 成功下载好后，使用 `MD5` 或 `SHA-256` 检测下载的数据包是否正确。
    ```bash
    md5sum /path/filename
    ```
    或者
    ```bash
    sha256sum /path/filename
    ```
    使用刚刚下载好的文件路径替换掉 `/path/filename`，文件一般会下载在 `~/Download/` 文件夹下。

2. 执行安装脚本。
    ```bash
    cd ~/Downloads
    bash Anaconda3-5.2.0-Linux-x86_64.sh
    ```
    或者
    ```bash
    cd ~/Downloads
    chmod +x Anaconda3-5.2.0-Linux-x86_64.sh
    ./Anaconda3-5.2.0-Linux-x86_64.sh
    ```
    
3. 根据安装脚本的提示进行配置。

ps: 官方安装文档看[这里](https://docs.anaconda.com/anaconda/install/linux/)

## 
